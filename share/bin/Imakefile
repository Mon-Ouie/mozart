
BINDIR  = $(OZHOME)/bin
SHELL   = /bin/sh

SCRIPTS = oz oz2lpr oz+ oz2declare ozplatform ozwish
LINKS   = oz- ozc ozsa ozsac oz.compiler oz.emulator ozdo \
          ozwindowmanager ozemacs

all::
	@echo ""
	@echo "The following targets are available"
	@echo "	install		{scheidhr,mehl}@dfki.uni-sb.de"
	@echo ""

install:: $(BINDIR)
	install -m 555 $(SCRIPTS) $(BINDIR)
	@set -x; cd $(BINDIR);\
	for file in $(LINKS); \
        do\
	   rm -f $$file; \
	   ln -s oz $$file; \
        done

$(BINDIR):
	install -d -m 775 $@

tar: oz-base

oz-base:
	(cd $(OZHOME)/..; \
	tar -cf - oz/bin oz/demo oz/include oz/lib oz/README oz/doc \
		oz/ozwish/tcl ) | \
	compress > $@.tar.Z

PLATFORMS = sunos-sparc solaris-sparc ultrix-mips linux-i496 hpux-700 \
	irix-mips

$(PLATFORMS):
	(cd $(OZHOME)/..; \
	tar -cf - oz/platform/$@ oz/ozwish/platform/$@) | \
	compress > $@.tar.Z
