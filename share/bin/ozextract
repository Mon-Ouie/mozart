#!/bin/csh -f

set TAPE = /dev/rfd0c

echo ""
echo "This script will extract the Oz System from floppy discs."
echo "It does not know of how many discs the distribution consists,"
echo "so please anwser 'e' to the questions below, if the last"
echo "disc has been read."

label1:

echo ""
echo -n "Please insert the first floppy disc. "
echo -n "Ready? (y/n) "

set in = $< 
if ($in == "n") exit
if ($in != "y") goto label1

loop:
   tar xvf $TAPE; eject
label2:
   echo -n "Insert next floppy disc (e = no further disc). "
   echo -n "Ready? (y/e) "
   set in = $<
   if ($in == "y") goto loop
   if ($in == "e" || $in == "end") goto end
   goto label2
   
end:

echo ""
echo "Extracting the Oz System"

cat *-[0-9] | uncompress | tar xvf -

