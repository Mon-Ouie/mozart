VPATH		= @srcdir@
SRCDIR		= @srcdir@

WHAT = wp
MAIN = main.sgml
SGMLSRCS = \
	intro.sgml started.sgml widgets-1.sgml geometry.sgml widgets-2.sgml \
	tools.sgml canvas.sgml text.sgml data.sgml
STARTED = \
	lower upper
WIDGETS1 = \
	fonts images-1 labels messages relief-frames \
	toplevel-1 predefined
GEOMETRY = \
	grid-span grid-sticky grid-weight grid \
	packer-anchor packer-bottom packer-fill \
	packer-ipad packer-left packer-pad packer-plain \
	packer-resize-both packer-resize-expand \
	packer-resize-fill widget-anchor
HTMLEXTRAFILES0 = \
	$(STARTED:%=started/%.gif) \
	$(WIDGETS1:%=widgets-1/%.gif) \
	$(GEOMETRY:%=geometry/%.gif) \
	button.gif check-and-radio-action.gif check-and-radio.gif dialog.gif \
	entry.gif error.gif file.gif help.gif \
	listbox.gif menu.gif  scales.gif \
	tools-menubar.gif \
	queen.xbm truck-left.ppm truck-right.ppm
HTMLEXTRAFILES = \
	wp.gif \
	$(addprefix pictures/,$(HTMLEXTRAFILES0))
OZDOCHTMLFLAGS = --autoindex

include ../Makefile.common

CHUNKFILES = \
	WindowProgramming.oz

all:: $(CHUNKFILES)
quick:: $(CHUNKFILES)

clean:: 
	-rm -f $(CHUNKFILES)

WindowProgramming.oz: $(MAIN) $(SGMLSRCS)
	$(DOCIFY) --in=$< --type=chunk --out=EXAMPLES --include=EXTRA > $@ 

install:: $(CHUNKFILES:%=$(DOCDIR)/%)

$(DOCDIR)/%.oz: $(DOCDIR)

$(DOCDIR)/%.oz: %.oz
	$(INSTALL_FILE) $< $@
