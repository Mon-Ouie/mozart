#!/bin/sh
# determine machine architecture and OS version

if [ -x /bin/uname ]; then UNAME=/bin/uname
elif [ -x /usr/bin/uname ]; then UNAME=/usr/bin/uname
else echo "Cannot find uname" 1>&2 ; exit 1
fi

system="`$UNAME -m` `$UNAME -s` `$UNAME -r`"

case $system in
   sun4*\ SunOS\ 4.1*)	OZARCH=sunos-sparc
   ;;
   sun4*\ SunOS\ 5*)	OZARCH=solaris-sparc
   ;;
   RISC\ ULTRIX\ 4.*)	OZARCH=ultrix-mips
   ;;
   i[3456]86\ Linux\ *)	OZARCH=linux-i486
   ;;
   m68k\ Linux\ *)      OZARCH=linux-m68k
   ;;
   9000/7*HP-UX*)	OZARCH=hpux-700
   ;;
   *IRIX\ 5*)	        OZARCH=irix5-`/bin/uname -p`
   ;;
   *AIX*)	        OZARCH=aix3-rs6000
   ;;
   *alpha*OSF1*)        OZARCH=osf1-alpha
   ;;
   *i386*FreeBSD*)      OZARCH=freebsd-i486
		        OZARCH=linux-i486
   ;;
   *)  echo "Cannot determine machine type and OS version" 1>&2 ; exit 1
esac

echo $OZARCH
